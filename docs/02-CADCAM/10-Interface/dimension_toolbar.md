# 寸法バー

**ファイル名**: `dimension_toolbar.md`  
**カテゴリ**: インターフェース - 寸法バー

## 概要

寸法バーは、bSolidのCAD/CAM環境で技術図面に寸法線、注釈、位置決め情報を追加するための専用サイドバーです。製図標準に準拠した正確な寸法記入により、製造指示、設計意図の伝達、品質保証に重要な役割を果たします。

## バー表示方法

寸法バーの表示・非表示は以下のボタンで制御します：

![寸法バー表示ボタン](../../Help/ja/5804sb0002/FIGURE/15-icone/b15b0007/Utility_Dimension.png)

**アクセス方法**:
- ツールバー上の寸法バーボタンをクリック
- 表示メニューから「寸法バー」を選択
- **キーボードショートカット**を使用

## 基本寸法記入ツール

### 1. 傾斜寸法線（線の位置決め）
![傾斜寸法アイコン](../../Help/ja/5804sb0002/FIGURE/15-icone/b15b0001/Utility_Dimension_Aligned.png)

**機能**: 任意の角度の寸法線を作成し、2点間の実際の距離を表示

**操作手順**:
1. 寸法バーの傾斜寸法ツールをクリック
2. 第1の基準点を選択（端点、中点、任意点）
3. 第2の基準点を選択
4. 寸法線の配置位置をクリック

**特徴**:
- 基準点間の実際の距離を正確に表示
- 寸法線は常に基準線に平行
- 傾斜した要素の寸法記入に最適
- 3D空間での距離測定にも対応

**パラメーター設定**:
- **初期位置（X1, Y1, Z1）**: 第1基準点の座標
- **最終位置（X2, Y2, Z2）**: 第2基準点の座標
- **距離（DST）**: 寸法線と基準線の離隔距離
- **値（TXT）**: 表示する寸法値（編集可能）
- **パラメーターモード**: 変数・式による寸法制御

**活用例**:
- 傾斜した部材の長さ測定
- 階段の斜辺寸法
- 屋根勾配の実長表示

### 2. 水平寸法線
![水平寸法アイコン](../../Help/ja/5804sb0002/FIGURE/15-icone/b15b0001/Utility_Dimension_Horizontal.png)

**機能**: 水平方向の寸法線を作成し、X軸方向の距離を表示

**操作手順**:
1. 寸法バーの水平寸法ツールをクリック
2. 第1の基準点を選択
3. 第2の基準点を選択
4. 寸法線の配置位置をクリック

**測定対象**:
- **直線・円弧の水平長**: 要素の水平投影長
- **オブジェクト間の水平距離**: 複数要素間のX方向距離
- **点間の水平距離**: 任意点間のX軸方向成分

**パラメーター設定**:
- **初期位置（X1, Y1, Z1）**: 第1基準点の座標
- **最終位置（X2, Y2, Z2）**: 第2基準点の座標
- **距離（DST）**: 寸法線の配置距離
- **値（TXT）**: 表示寸法値（編集可能）

**ショートカット**: **Shift + Alt + H**

**活用例**:
- 建築図面の幅寸法
- 機械部品の横方向寸法
- レイアウト図での配置間隔

### 3. 垂直寸法線
![垂直寸法アイコン](../../Help/ja/5804sb0002/FIGURE/15-icone/b15b0001/Utility_Dimension_Vertical.png)

**機能**: 垂直方向の寸法線を作成し、Y軸方向の距離を表示

**操作手順**:
1. 寸法バーの垂直寸法ツールをクリック
2. 第1の基準点を選択
3. 第2の基準点を選択
4. 寸法線の配置位置をクリック

**測定対象**:
- **直線・円弧の垂直長**: 要素の垂直投影長
- **オブジェクト間の垂直距離**: 複数要素間のY方向距離
- **高さ・深さ寸法**: 垂直方向の寸法表示

**パラメーター設定**:
- **初期位置（X1, Y1, Z1）**: 第1基準点の座標
- **最終位置（X2, Y2, Z2）**: 第2基準点の座標
- **距離（DST）**: 寸法線の配置距離
- **値（TXT）**: 表示寸法値（編集可能）

**ショートカット**: **Shift + Alt + V**

**活用例**:
- 建築図面の高さ寸法
- 機械部品の縦方向寸法
- 断面図での高低差表示

### 4. 半径・直径寸法線
![半径寸法アイコン](../../Help/ja/5804sb0002/FIGURE/15-icone/b15b0001/Utility_Dimension_Radial.png)

**機能**: 円・円弧の半径または直径を寸法記入

**操作手順**:
1. 寸法バーの半径寸法ツールをクリック
2. 円または円弧を選択
3. 寸法線の配置位置をクリック
4. 表示タイプ（半径/直径）を設定

**表示オプション**:
- **半径表示**: R + 数値（例：R25）
- **直径表示**: φ + 数値（例：φ50）
- **中心マーク**: 円の中心点表示
- **延長線**: 寸法線の延長表示

**パラメーター設定**:
- **初期位置（X1, Y1, Z1）**: 寸法開始点の座標
- **最終位置（X2, Y2, Z2）**: 寸法終了点の座標
- **距離（DST）**: 寸法線の長さ
- **テキスト（TXT）**: 半径/直径値（編集可能）

**ショートカット**: **Shift + Alt + R**

**活用例**:
- ボルト穴の直径寸法
- フィレット半径の表示
- パイプ・配管の径寸法
- 円形部品の寸法表示

### 5. 角度寸法線
![角度寸法アイコン](../../Help/ja/5804sb0002/FIGURE/15-icone/b15b0001/Utility_Dimension_Angular.png)

**機能**: 2つの線分間の角度を寸法記入

**操作手順**:
1. 寸法バーの角度寸法ツールをクリック
2. 第1の線分要素を選択
3. 第2の線分要素を選択
4. 角度弧の配置位置をクリック

**角度表示オプション**:
- **内角**: 2線分間の内角（0～180度）
- **外角**: 2線分間の外角（180～360度）
- **補角**: 180度からの差（補角）
- **余角**: 90度からの差（余角）

**角度単位**:
- **度（°）**: 0～360度表示（標準）
- **ラジアン**: 0～2π表示
- **グラジアン**: 0～400グラジアン表示
- **分・秒**: 度分秒表示（DMS）

**表示形式**:
- **角度値のみ**: 数値のみ表示
- **角度記号付き**: °記号付き表示
- **弧線表示**: 角度弧の表示スタイル
- **矢印表示**: 角度方向の指示

**ショートカット**: **Shift + Alt + A**

**活用例**:
- 機械部品の角度仕様
- 建築図面の勾配角度
- 溶接角度の指示
- 切削角度の表示

### 6. 指示線（インジケータ）
![指示線アイコン](../../Help/ja/5804sb0002/FIGURE/15-icone/b15b0001/Utility_Dimension_Indicator.png)

**機能**: 説明テキストや注釈への指示線を作成

**操作手順**:
1. 寸法バーの指示線ツールをクリック
2. 指示したい箇所をクリック
3. 指示線の中間点を指定（オプション）
4. テキスト配置位置をクリック
5. データエリアでテキスト内容を入力

**指示線タイプ**:
- **直線**: 単純な直線指示線
- **折れ線**: 複数セグメントの指示線
- **スプライン**: 滑らかな曲線指示線
- **矢印付き**: 矢印付き指示線

**矢印スタイル**:
- **黒塗り矢印**: 標準的な黒矢印
- **白抜き矢印**: 輪郭のみの矢印
- **ドット**: 丸印による指示
- **斜線**: 斜線による指示

**テキスト設定**:
- **フォント**: テキストのフォント種類
- **サイズ**: 文字の高さ（mm単位）
- **色**: テキストの色
- **背景**: テキスト背景の設定

**ショートカット**: **Shift + Alt + I**

**活用例**:
- 部品名の表示
- 材質・仕上げの指示
- 製造注意事項の記載
- 検査項目の指示

## 高度な寸法機能

### パラメトリック寸法

#### 変数による寸法制御
**機能**: 変数名を使用した動的寸法値の制御

**設定方法**:
1. 寸法記入後、データエリアでテキスト欄を選択
2. 「パラメーターモードを有効にする」をチェック
3. 変数名または式を入力（例：L1、W*2、R+5）

**変数の種類**:
- **グローバル変数**: プロジェクト全体で共有
- **ローカル変数**: 図面固有の変数
- **システム変数**: bSolid組み込み変数
- **計算式**: 数式による動的計算

#### 関連寸法の制御
**機能**: 複数の寸法間の関係性を定義

**設定例**:
- **L1 = 100**: 基準長さ
- **L2 = L1/2**: 半分の長さ
- **L3 = L1+20**: 20mm増しの長さ
- **R = L1/4**: 長さに比例した半径

### 寸法公差の設定

#### 公差表示の種類
- **±公差**: ±0.1のような対称公差
- **上下限公差**: +0.2/-0.1のような非対称公差
- **等級公差**: JIS等級による自動設定
- **記号公差**: H7、f6等の記号による表示

#### 公差設定手順
1. 寸法記入後、データエリアで公差設定を開く
2. 公差タイプを選択
3. 上限・下限値を入力
4. 表示形式を設定

#### 公差計算機能
- **累積公差**: 複数寸法の公差合成
- **最悪条件**: 最大・最小値の計算
- **統計的公差**: 確率的公差解析

### 寸法スタイル管理

#### 寸法線の外観設定

**線種・線幅設定**:
- **寸法線**: 実線、破線、一点鎖線
- **延長線**: 寸法線からの延長
- **線幅**: 線の太さ（0.1～2.0mm）
- **色**: 寸法線の色設定

**矢印設定**:
- **矢印タイプ**: 黒塗り、白抜き、ドット
- **矢印サイズ**: 長さと幅の設定
- **矢印角度**: 先端の開き角度

#### 寸法値の書式設定

**数値表示**:
- **精度**: 小数点以下の桁数（0～6桁）
- **単位**: mm、inch、m等の単位
- **単位位置**: 前置、後置、なし
- **丸め規則**: 四捨五入、切り上げ、切り捨て

**テキスト書式**:
- **フォント**: 数値のフォント種類
- **サイズ**: 数値の文字サイズ
- **色**: 数値の表示色
- **スタイル**: 太字、斜体、下線

#### 配置設定

**寸法線位置**:
- **自動配置**: 最適位置への自動配置
- **手動配置**: ユーザー指定位置
- **間隔制御**: 複数寸法線の等間隔配置
- **整列**: 寸法線の整列機能

**テキスト位置**:
- **線上中央**: 寸法線中央に配置
- **線上任意**: 寸法線上の任意位置
- **線外**: 寸法線外に配置
- **引き出し**: 指示線付きで配置

## 効率的な寸法記入ワークフロー

### 基本的な寸法記入手順

1. **準備段階**
   - 寸法バーを表示
   - 寸法スタイルの設定確認
   - スナップ機能の有効化

2. **寸法記入実行**
   - 適切な寸法タイプを選択
   - 正確な基準点を指定
   - 寸法線を適切な位置に配置

3. **書式調整**
   - 寸法値の確認・編集
   - 配置位置の微調整
   - 公差設定（必要に応じて）

4. **品質確認**
   - 寸法値の正確性確認
   - 図面全体のバランス確認
   - 製図標準への適合確認

### 一括操作による効率化

#### 連続寸法の作成
1. 第1の寸法線を作成
2. 連続寸法モードを有効化
3. 追加の基準点を順次選択
4. 自動的に連続した寸法線を作成

#### 累進寸法の作成
1. 基準点を設定
2. 累進寸法モードを有効化
3. 各寸法点を順次選択
4. 基準点からの累積寸法を表示

#### スタイルの一括適用
1. 対象寸法線を複数選択
2. 適用したい寸法スタイルを選択
3. 一括でスタイルを適用
4. 統一された外観に変更

### テンプレートの活用

#### 寸法スタイルテンプレート
- **会社標準**: 企業標準の寸法スタイル
- **業界標準**: JIS、ISO等の標準スタイル
- **プロジェクト固有**: 特定プロジェクト用スタイル
- **用途別**: 建築、機械、電気等の用途別

#### 自動配置ルール
- **間隔設定**: 寸法線間の標準間隔
- **整列ルール**: 自動整列の基準
- **重複回避**: 寸法線の重複防止
- **読みやすさ優先**: 視認性重視の配置

## ショートカットキー一覧

寸法バーの主要機能のショートカット：

| 機能 | ショートカット | 説明 |
|------|----------------|------|
| 水平寸法 | **Shift + Alt + H** | 水平方向の寸法線 |
| 垂直寸法 | **Shift + Alt + V** | 垂直方向の寸法線 |
| 傾斜寸法 | **Shift + Alt + L** | 任意角度の寸法線 |
| 半径寸法 | **Shift + Alt + R** | 半径・直径寸法 |
| 角度寸法 | **Shift + Alt + A** | 角度寸法線 |
| 指示線 | **Shift + Alt + I** | 注釈指示線 |
| 寸法編集 | **F2** | 選択寸法の編集 |
| スタイル適用 | **Ctrl + Shift + S** | 寸法スタイル適用 |

## 実用的な活用例

### 機械製図での活用

#### 部品図での寸法記入
- **主要寸法**: 機能に関わる重要寸法
- **補助寸法**: 参考寸法の括弧表示
- **公差寸法**: 精度要求のある寸法
- **幾何公差**: 形状・位置精度の指定

#### 組立図での寸法記入
- **全体寸法**: 組立品の外形寸法
- **相対寸法**: 部品間の位置関係
- **取付寸法**: 取付用の参照寸法
- **分解図寸法**: 分解・組立用寸法

### 建築製図での活用

#### 平面図での寸法記入
- **通り芯寸法**: 構造体の基本寸法
- **壁芯寸法**: 壁の中心線寸法
- **内法寸法**: 室内の有効寸法
- **開口寸法**: 窓・扉の開口寸法

#### 立面・断面図での寸法記入
- **階高寸法**: 各階の高さ寸法
- **天井高**: 室内の有効天井高
- **基礎寸法**: 基礎の深さ・寸法
- **レベル表示**: 各部の高さレベル

## トラブルシューティング

### 寸法記入時の問題

#### 寸法値が正しく表示されない
**原因と対処法**:
- **単位設定の確認**: プロジェクト単位設定を確認
- **精度設定の調整**: 小数点以下桁数の設定
- **基準点の見直し**: 正確な点を再選択
- **座標系の確認**: 作業座標系の設定確認

#### 寸法線が重なってしまう
**対処法**:
- **自動配置の活用**: 自動配置機能を有効化
- **手動調整**: 寸法線位置の手動調整
- **間隔設定**: 寸法線間隔の調整
- **レイヤー分け**: 寸法を複数レイヤーに分割

#### テキストが読みにくい
**改善方法**:
- **フォントサイズ拡大**: 文字サイズの調整
- **色設定の変更**: コントラストの改善
- **背景設定**: テキスト背景の設定
- **配置位置の調整**: より見やすい位置への移動

### 寸法編集時の問題

#### 寸法値の編集ができない
**原因と対処法**:
- **編集モードの確認**: 寸法編集モードへの切り替え
- **ロック状態の解除**: 寸法のロック解除
- **パラメーターモード**: 変数モードの設定確認
- **権限の確認**: 編集権限の確認

#### 公差設定が反映されない
**対処法**:
- **公差設定の確認**: 公差設定画面での確認
- **表示設定**: 公差表示オプションの有効化
- **スタイル設定**: 寸法スタイルでの公差設定
- **システム設定**: 全体設定での公差表示確認

## 品質管理との連携

### 寸法検査機能

#### 自動検証
- **寸法範囲チェック**: 設定範囲内の寸法確認
- **公差検証**: 公差設定の妥当性確認
- **重複チェック**: 重複寸法の検出
- **欠落確認**: 必要寸法の抜け確認

#### 検査レポート
- **寸法一覧**: 全寸法の一覧表示
- **公差一覧**: 公差設定の一覧
- **問題箇所**: 問題のある寸法の指摘
- **改善提案**: 修正提案の表示

### 製造連携

#### CAM連携
- **加工寸法**: CAMでの加工寸法確認
- **工具補正**: 工具径補正との整合性
- **仕上げ代**: 仕上げ代考慮の寸法
- **検査寸法**: 検査工程での確認寸法

#### 品質保証
- **検査記録**: 寸法検査記録の作成
- **トレーサビリティ**: 寸法履歴の管理
- **変更管理**: 寸法変更の履歴管理
- **承認フロー**: 寸法承認プロセス

## 関連セクション

- [測定バー](./measurement_toolbar.md) - 測定機能との連携
- [CADオプションバー](./cad_options_toolbar.md) - 図形編集との連携
- [描画バー](./drawing_toolbar.md) - 図形作成との連携
- [標準バー](./standard_toolbar.md) - 基本操作との連携

## 上位セクションへ戻る

- [インターフェース](./README.md) - インターフェースセクション目次
- [CAD/CAM](../README.md) - CAD/CAMセクション目次
- [bSolid マニュアル目次](../../README.md) - メイン目次

---

**注意**: 寸法記入機能の一部は、使用しているライセンスやプロジェクト設定により利用できない場合があります。3D寸法記入については、3Dモジュールのライセンスが必要です。製図標準（JIS、ISO等）に準拠した設定を推奨します。 
